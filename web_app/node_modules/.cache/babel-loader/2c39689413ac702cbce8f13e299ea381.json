{"ast":null,"code":"import _classCallCheck from \"/Users/davidflores/Documents/office-eye/web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/davidflores/Documents/office-eye/web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/davidflores/Documents/office-eye/web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/davidflores/Documents/office-eye/web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/davidflores/Documents/office-eye/web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/davidflores/Documents/office-eye/web_app/src/pages/Account.js\";\nimport React, { Component } from 'react'; //import '../styles/application.css';\n\nimport { Layout, Divider, Avatar, Button } from 'antd';\nimport { auth, database, storage } from '../firebase/firebase';\nimport { Redirect, Link } from 'react-router-dom';\nimport * as routes from '../router/routes'; //import { PasswordForgetForm } from './PasswordForget';\n//import PasswordChangeForm from '../components/account/Change_Password';\n//import Sidebar from \"../components/layout/Sidebar\";\n\n/*const AccountPage = (props, { authUser }) =>\n  <div>\n    <h1>Account: {authUser.email}</h1>\n    <PasswordChangeForm />\n  </div>\n\nAccountPage.contextTypes = {\n  authUser: PropTypes.object,\n};*/\n\nvar AccountPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AccountPage, _Component);\n\n  function AccountPage(props) {\n    var _this;\n\n    _classCallCheck(this, AccountPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AccountPage).call(this, props));\n    _this.state = {\n      authUser: _this.props.authUser\n    };\n    _this.userRef = database.ref('/users').child('Anonymous');\n    return _this;\n  }\n\n  _createClass(AccountPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      auth.onAuthStateChanged(function (authUser) {\n        authUser ? _this2.setState(function () {\n          return {\n            authUser: authUser\n          };\n        }) : _this2.setState(function () {\n          return {\n            authUser: null\n          };\n        });\n\n        if (authUser) {\n          _this2.userRef = database.ref('users').child(authUser.uid);\n          var theEmail = '';\n\n          _this2.userRef.child('email').on('value', function (snapshot) {\n            theEmail = snapshot.val();\n          });\n\n          _this2.userRef.child('username').on('value', function (snapshot) {\n            var theUser = snapshot.val();\n\n            if (theUser) {\n              _this2.setState({\n                theUser: theUser\n              });\n            } else {\n              theUser = theEmail;\n\n              _this2.setState({\n                theUser: theUser\n              });\n            }\n          });\n\n          _this2.userRef.child('role').on('value', function (snapshot) {\n            var userRole = snapshot.val();\n\n            _this2.setState({\n              userRole: userRole\n            });\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.state.authUser ? React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          height: '100vh',\n          background: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Divider, {\n        orientation: \"left\",\n        style: {\n          fontSize: '20px',\n          color: '#163774',\n          marginTop: '50px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        size: \"90\",\n        icon: \"idcard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), \"   Account Information\"), React.createElement(\"div\", {\n        style: {\n          paddingLeft: '100px',\n          fontSize: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"User Email: \"), \" \", this.state.authUser.email), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"User Name: \"), \" \", this.state.theUser), this.state.userRole == 1 ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"User Role: \"), \"Student\") : null, this.state.userRole == 2 ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"User Role: \"), \"Instructor\") : null, this.state.userRole == 3 ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"User Role: \"), \"Lecturer\") : null), React.createElement(Divider, {\n        orientation: \"left\",\n        style: {\n          fontSize: '20px',\n          color: '#163774'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        size: \"90\",\n        icon: \"safety\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), \"   Security Information\"), React.createElement(\"div\", {\n        style: {\n          paddingLeft: '100px',\n          fontSize: '16px',\n          width: '400px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })))) : React.createElement(Redirect, {\n        to: routes.SIGN_IN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return AccountPage;\n}(Component);\n\nexport default AccountPage;","map":{"version":3,"sources":["/Users/davidflores/Documents/office-eye/web_app/src/pages/Account.js"],"names":["React","Component","Layout","Divider","Avatar","Button","auth","database","storage","Redirect","Link","routes","AccountPage","props","state","authUser","userRef","ref","child","onAuthStateChanged","setState","uid","theEmail","on","snapshot","val","theUser","userRole","height","background","fontSize","color","marginTop","paddingLeft","fontWeight","email","width","SIGN_IN"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import '../styles/application.css';\nimport { Layout, Divider, Avatar, Button} from 'antd';\n\nimport {auth, database, storage} from '../firebase/firebase';\nimport {Redirect, Link} from 'react-router-dom';\nimport * as routes from '../router/routes';\n\n//import { PasswordForgetForm } from './PasswordForget';\n//import PasswordChangeForm from '../components/account/Change_Password';\n//import Sidebar from \"../components/layout/Sidebar\";\n\n/*const AccountPage = (props, { authUser }) =>\n  <div>\n    <h1>Account: {authUser.email}</h1>\n    <PasswordChangeForm />\n  </div>\n\nAccountPage.contextTypes = {\n  authUser: PropTypes.object,\n};*/\n\nclass AccountPage extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            authUser: this.props.authUser,\n        }\n        this.userRef = database.ref('/users').child('Anonymous');\n    }\n    componentDidMount(){\n        auth.onAuthStateChanged((authUser) => {\n            authUser\n                ? this.setState(() => ({ authUser }))\n                : this.setState(() => ({ authUser: null }));\n            if (authUser) {\n                this.userRef = database.ref('users').child(authUser.uid);\n\n                let theEmail='';\n                this.userRef.child('email').on('value',(snapshot) =>{\n                    theEmail = snapshot.val();\n                });\n                this.userRef.child('username').on('value',(snapshot) =>{\n                    let theUser = snapshot.val();\n                    if (theUser){\n                        this.setState({theUser});\n                    }else{\n                        theUser = theEmail;\n                        this.setState({theUser});\n                    }\n\n                })\n                this.userRef.child('role').on('value',(snapshot) =>{\n                    const userRole = snapshot.val();\n                    this.setState({userRole});\n                })\n            }\n        })\n    }\n\n\n    render(){\n        return(\n            this.state.authUser\n                ? (\n                    <Layout>\n                        <Layout >\n                            <div style={{height:'100vh', background: '#fff'}}>\n                                <Divider orientation=\"left\" style={{fontSize: '20px', color: '#163774', marginTop:'50px'}}><Avatar size='90' icon=\"idcard\" />   Account Information</Divider>\n                                <div style={{paddingLeft : '100px', fontSize:'16px'}}>\n\n                                    <p><b style={{fontWeight:'bold'}}>User Email: </b> {this.state.authUser.email}</p>\n                                    <p><b style={{fontWeight:'bold'}}>User Name: </b> {this.state.theUser}</p>\n                                    {this.state.userRole == 1 ?\n                                        <p><b style={{fontWeight:'bold'}}>User Role: </b>Student</p> : null\n                                    }\n                                    {this.state.userRole == 2 ?\n                                        <p><b style={{fontWeight:'bold'}}>User Role: </b>Instructor</p> : null\n                                    }\n                                    {this.state.userRole == 3 ?\n                                        <p><b style={{fontWeight:'bold'}}>User Role: </b>Lecturer</p> : null\n                                    }\n                                </div>\n                                <Divider orientation=\"left\"\n                                style={{fontSize: '20px', color: '#163774'}}><Avatar size='90' icon=\"safety\" />   Security Information</Divider>\n                                <div style={{paddingLeft : '100px', fontSize:'16px', width: '400px'}}>\n                                    {/*<PasswordChangeForm/>*/}\n                                </div>\n                            </div>\n                        </Layout>\n                    </Layout>)\n                : (<Redirect to={routes.SIGN_IN}/>)\n        )\n    }\n\n}\n\nexport default AccountPage;"]},"metadata":{},"sourceType":"module"}